# Setup Command
# Initialize a Robot Fleet project with caching
description: "Set up a Robot Fleet project environment"
parameters:
  install-deps:
    type: boolean
    default: true
    description: "Install npm dependencies"
steps:
  - checkout
  - when:
      condition: << parameters.install-deps >>
      steps:
        - restore_cache:
            keys:
              - robot-fleet-deps-v1-{{ checksum "package-lock.json" }}
              - robot-fleet-deps-v1-
        - run:
            name: Install dependencies
            command: npm ci
        - save_cache:
            key: robot-fleet-deps-v1-{{ checksum "package-lock.json" }}
            paths:
              - ./node_modules
